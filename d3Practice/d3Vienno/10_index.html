<!doctype html>

<html>

<head>
	<title> D3 tutorial 10 - Loading Data </title>


</head>

<body>

	<div>
		<h2> <b> Iris Practice </b> </h2>
	</div>

	<script src="http://d3js.org/d3.v3.min.js"></script>

	<script>

		// load external file
		// json version
		// d3.json("name_of_data.json", function(data) { code...})

		// csv version
		d3.csv("meanIris.csv", function(data) {

			var canvas = d3.select("body")
					.append("svg")
					.attr("width", 500)
					.attr("height", 500)

			canvas.selectAll("rect")
					.data(data)
					.enter()
							.append("rect")
							.attr("width", function(d){ return d.setosa * 100; })
							.attr("height", 50)
							.attr("y", function(d, i) { return i * 100; })
							.attr("fill","blue")

			canvas.selectAll("text")
					.data(data)
					.enter()
							.append("text")
							.attr("fill", "white")
							.attr("y", function(d,i) {return i * 100 + 45; })
							.text(function(d) { return d.rowname ;})

			// transition
	    canvas.selectAll("rect")
					.transition()
          .duration(1500) // duration of transition
          .delay(3000) // delay before transition
					.attr("width", function(d){ return d.versicolor * 100; })
          .each("end", function() { d3.select(this). attr("fill", "purple") })
					.transition() // transition #2
          .duration(1500) // duration of transition
          .delay(7500) // delay before transition
					.attr("width", function(d){ return d.virginica * 100; })
          .each("end", function() { d3.select(this). attr("fill", "fuchsia") })
					.transition() // transition #3
					.duration(1500) // duration of transition
					.delay(12000) // delay before transition
					.attr("width", function(d){ return d.setosa * 100; })
					.each("end", function() { d3.select(this). attr("fill", "blue") })



		})



	</script>

</body>
</html>
